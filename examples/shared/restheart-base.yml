# Base RESTHeart Configuration for Facet Examples
# This file contains common configuration shared across all examples
# Example-specific restheart.yml files override these settings

/core:
  name: facet-examples

/http-listener:
  host: 0.0.0.0
  port: 8080

/logging:
  log-level: info
  packages: [org.restheart, org.facet]
  full-stacktrace: true
  ansi-console: true
  requests-log-mode: 1

/mclient:
  connection-string: ${MONGO_URI:-mongodb://admin:secret@mongodb:27017/admin}

/mongo/mongo-mounts:
  - what: "*"
    where: /

# Disable unused services for simplicity
/graphql:
  enabled: false

/bruteForceAttackGuard:
  enabled: false

/rndTokenManager:
  enabled: false

/tokenBasicAuthMechanism:
  enabled: false

# JWT configuration for authentication examples
/jwtTokenManager:
  enabled: true
  ttl: 15
  srv-uri: /token

/jwtConfigProvider:
  key: example-key-change-in-production
  algorithm: HS256
  base64Encoded: false
  issuer: facet-examples

/jwtAuthenticationMechanism:
  enabled: true
  base64Encoded: false
  usernameClaim: sub
  rolesClaim: roles
  fixedRoles: []

/authCookieSetter:
  enabled: true
  name: rh_auth
  domain: localhost
  path: /
  secure: false
  http-only: true
  same-site: true
  same-site-mode: lax
  ttl: 15

/authCookieHandler:
  enabled: true

/authCookieRemover:
  enabled: true
  secure: false

# Facet template engine - hot reload enabled for development
/pebble-template-processor:
  enabled: true
  use-file-loader: true
  cache-active: false

# Facet HTML interceptor - caching disabled for development
/html-response-interceptor:
  enabled: true
  response-caching: false
  max-age: 5

# Login service disabled by default (enable in example-specific configs if needed)
/login-service:
  enabled: false

# HTML auth redirect (enable in examples that need authentication)
/html-auth-redirect-interceptor:
  enabled: false
